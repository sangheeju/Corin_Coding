<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.korogom.member">
	<insert id="mregister" parameterType="MemberDAO" >
		INSERT INTO member(mid,mpass,mnick,mname,mmail,mphone,mbirth,mdel,mdate,mclass)
		VALUES(#{mid},#{mpass},#{mnick},#{mname},#{mmail},#{mphone},#{mbirth},#{mdel},curdate(),#{mclass})		
	</insert>
	<select id="midCheck" parameterType="MemberDAO" resultType="int" >
		SELECT COUNT(*) 
		FROM member
		WHERE mid = #{mid}
	</select>
	<select id="mnickCheck" parameterType="MemberDAO" resultType="int" >
		SELECT mnick 
		FROM member 
		WHERE mnick = #{mnick}		
	</select>
		<!-- 패스워드 체크
	<select id="passChk" parameterType="MemberDAO" resultType="java.lang.Integer">
		SELECT COUNT(*) FROM member
		WHERE mid = #{mid}
		AND mpass = #{mpass}
	</select> -->
	<select id="login" parameterType="java.util.Map" resultType="java.util.Map">
		SELECT mid, mnick
		FROM member 
		WHERE mid= #{mid} 
		AND mpass = #{mpass}
	</select>
	<select id="find_userid" parameterType="MemberDAO" resultType="java.util.Map">
		SELECT mid, mname
		FROM member 
		WHERE mname = #{mname} 
		AND mmail = #{mmail}
	</select>
	
	<select id="mypage" parameterType="String" resultType="MemberDAO">
		SELECT mid, mnick, mname, mmail, mphone, mbirth, mclass 
		FROM member
		WHERE mid = #{mid}
	</select>
	
</mapper>